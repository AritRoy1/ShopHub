{% extends "customer/base.html" %}

{% block content %}
{% load static %}

    
<div style="border: 1px solid blue;padding: 5px;">

    <div align="center"  id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for image in products.image_set.all %}
            
                <div style="background-color:#f1ecec" class="carousel-item {% if forloop.counter == 1 %}active{% endif %}">
                    <img style="width: auto;height: 700px;padding: 2px;" src="{{image.image.url}}" alt="Image not available" />
                </div>
            {% empty %}
                <h5>Image not available</h5>
            {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>


























{% comment %} 
<style>

        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: auto;
        }
        
        .carousel {
            display: flex;
            overflow: hidden;
        }
        
        .carousel-item {
            min-width: 100%;
        }
        
        img {
            width: 100%;
            height: auto;
        }
        
        .sidebar {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 10px;
        }
        
        button {
            padding: 10px;
            cursor: pointer;
        }
        
</style>

  <h1>image</h1>
  

<div class="carousel-container">
    <div class="carousel">
        <!-- Add your images here -->
        {% for product in products %}
        <div class="carousel-item">
            {% for image in product.image_set.all %}
            <img src="{{image.image.url}}" alt="Image 1">
        </div>
        {% endfor %}
        {% endfor %}
        <!-- Add more images as needed -->

        <!-- Sidebar for navigation -->
        <div class="sidebar">
            <button onclick="prevSlide()">Previous</button>
            <button onclick="nextSlide()">Next</button>
        </div>
    </div>
</div> <br> <br>



<script>

let currentIndex = 0;

function showSlide(index) {
    const carousel = document.querySelector('.carousel');
    const totalSlides = document.querySelectorAll('.carousel-item').length;

    // Ensure the index stays within bounds
    currentIndex = (index + totalSlides) % totalSlides;

    // Move the carousel to show the current slide
    carousel.style.transform = `translateX(${-currentIndex * 100}%)`;
}

function nextSlide() {
    showSlide(currentIndex + 1);
}

function prevSlide() {
    showSlide(currentIndex - 1);
}

</script>    {% endcomment %}

{% endblock content %}